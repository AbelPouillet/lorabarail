const a0_0x5486=['./utils/check_slot','valve_id','alloc','duration','../parser/datalog_transmission/ebv','offset','slice','slots\x20can\x27t\x20be\x20contigous','concat','013900','from','start','assert','exports','encode_unsigned'];(function(_0x1fc9c4,_0x5486b5){const _0x3d6e4b=function(_0x20a564){while(--_0x20a564){_0x1fc9c4['push'](_0x1fc9c4['shift']());}};_0x3d6e4b(++_0x5486b5);}(a0_0x5486,0xe9));const a0_0x3d6e=function(_0x1fc9c4,_0x5486b5){_0x1fc9c4=_0x1fc9c4-0x0;let _0x3d6e4b=a0_0x5486[_0x1fc9c4];return _0x3d6e4b;};const assert=require(a0_0x3d6e('0x4')),ebv=require(a0_0x3d6e('0xb')),checkSlot=require(a0_0x3d6e('0x7'));module[a0_0x3d6e('0x5')]=_0x201b9e=>{let _0x137808=_0x201b9e['request_pattern_configuration'],_0x450390=Buffer[a0_0x3d6e('0x2')](a0_0x3d6e('0x1'),'hex');assert(0x1<=_0x137808[a0_0x3d6e('0x8')]&&0x2>=_0x137808[a0_0x3d6e('0x8')],'valve_id\x20must\x20be\x20in\x20the\x20range\x201...2\x20instead\x20of\x20'+_0x137808['valve_id']);let _0x1bd0b0=_0x137808[a0_0x3d6e('0x8')]-0x1&0x3|(_0x137808['update']&0x1)<<0x3;if(null==_0x137808['slots']||0x0===_0x137808['slots']['length'])return _0x450390[0x2]=_0x1bd0b0,_0x450390;_0x1bd0b0=_0x1bd0b0|0x4;let _0x459fb4=ebv['encode_unsigned'](_0x137808['count']);_0x450390=Buffer[a0_0x3d6e('0x0')]([_0x450390,_0x459fb4]);let _0x36ffb1=Buffer[a0_0x3d6e('0x9')](0x4,0x0);_0x36ffb1['writeUInt32BE'](_0x137808[a0_0x3d6e('0x3')]),_0x450390=Buffer[a0_0x3d6e('0x0')]([_0x450390,_0x36ffb1[a0_0x3d6e('0xd')](0x1)]);let _0x2c222e=0x0;checkSlot(_0x137808);for(let _0x5e3754 of _0x137808['slots']){0x0<_0x2c222e&&(assert(0x0<_0x5e3754[a0_0x3d6e('0xc')]-_0x2c222e,a0_0x3d6e('0xe')),_0x450390=Buffer[a0_0x3d6e('0x0')]([_0x450390,ebv[a0_0x3d6e('0x6')](_0x5e3754[a0_0x3d6e('0xc')]-_0x2c222e)])),_0x450390=Buffer[a0_0x3d6e('0x0')]([_0x450390,ebv[a0_0x3d6e('0x6')](_0x5e3754[a0_0x3d6e('0xa')])]),_0x2c222e=_0x5e3754[a0_0x3d6e('0xc')]+_0x5e3754['duration'];}return _0x450390=Buffer[a0_0x3d6e('0x0')]([_0x450390,ebv['encode_unsigned'](_0x137808[a0_0x3d6e('0xa')]-_0x2c222e)]),_0x450390[0x2]=_0x1bd0b0,_0x450390;};